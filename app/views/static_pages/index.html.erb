<% provide(:title, "Bienvenido") %>

<!-- Home start -->

<section id="home" class="intro-module heightfull">

  <center style="padding-top: 4em;">
    <%= image_tag "bbwc.png", style:"max-height:199px;"%>
  </center>

  <div class="fullscreen-bg">
    <video loop muted autoplay poster="<%= image_url @bgImg.getImage() %>" class="fullscreen-bg__video">
        <source src="<%= video_url @bgVideo.getVideo() %>" type="video/mp4">
    </video>
  </div>

  <div class="intro">

    <div class="intro-slider">
      <!-- Slide 1 -->
      <div class="owl-item">
        <% if !logged_in?%>
          <div class="row">
            <%= link_to "Regístrate", client_sign_up_path,
            :class => "btn btn-default btn-custom-4 text-shadow-black", style:"margin-top:20em;" %>
          </div>
        <% end %>
      </div>

    </div><!-- .intro-slider -->

  </div><!-- .intro -->

  <div class="mouse-icon" style="border: 0;">
    <div class="wheel"></div>
    <a href="#about"><span aria-hidden="true" class="icon-arrow-down" style="font-size:30px;color: #fff;"></span></a>
  </div>

</section>

<!-- Home end -->

<!-- About start -->

<section id="about" class="module">
  <div class="container">

    <div class="ma">
      <div class="col-sm-6 col-sm-offset-3">
        <div class="module-header wow fadeInUp">
          <h2 class="module-title">Acerca de Nosotros</h2>
          <h3 class="module-subtitle">Bienvenido a Black Brocket</h3>
        </div>
      </div>
    </div><!-- .row -->

    <% if !@texts.blank? %>
      <div class="row">
        <div class="col-sm-8 col-sm-offset-2">
          <%= render @texts.description_render_path %>
        </div>
      </div>
    <% end %>

    <div class="row">
      <div class="col-sm-6 col-sm-offset-3">
        <div class="devider">
          <%= image_tag "divider-down.svg" %>
        </div>
      </div>
    </div><!-- .row -->

  </div><!-- .container -->
</section>

<!-- About end -->

<% if @offers.any? %>
  <section class="module">
    <div class="ma">
      <div class="col-sm-6 col-sm-offset-3">
        <div class="module-header wow fadeInUp">
          <h2 class="module-title">Promociones/Novedades</h2>
        </div>
      </div>
    </div><!-- .row -->
    <!--Slider start-->
    <div class="main-slider not-mobile">
          <div id="spinner"></div>
          <div id="slideshow0" class="owl-carousel" style="opacity: 1;">
            <% @offers.each do |o| %>
              <div class="item"><center>
                <a href="<%= o.url %>"><%= image_tag o.photo.url, :class => "img-responsive" %></a>
              </center></div>
            <% end %>
          </div>
    </div>

    <script>
      (function() {
        [].slice.call( document.querySelectorAll( '.checkout' ) ).forEach( function( el ) {
          var openCtrl = el.querySelector( '.checkout__button' ),
            closeCtrls = el.querySelectorAll( '.checkout__cancel' );

          openCtrl.addEventListener( 'click', function(ev) {
            ev.preventDefault();
            classie.add( el, 'checkout--active' );
          } );

          [].slice.call( closeCtrls ).forEach( function( ctrl ) {
            ctrl.addEventListener( 'click', function() {
              classie.remove( el, 'checkout--active' );
            } );
          } );
        } );
      })();
    </script>

    <script type="text/javascript"><!--
    $('#slideshow0').owlCarousel({
        items: 6,
        autoPlay: 4000,
        singleItem: true,
        navigation: true,
        navigationText: ['<i class="fa fa-chevron-left fa-5x"></i>', '<i class="fa fa-chevron-right fa-5x"></i>'],
        pagination: true
    });
    --></script>
    <script type="text/javascript">
    // Can also be used with $(document).ready()
    $(window).load(function() {
      $("#spinner") .fadeOut("slow") ;
    });
    </script>
    <!-- Slider end -->
  </section>
<% end %>

  <!-- Services start -->

  <section id="services" class="module">
    <div class="container">

      <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
          <div class="module-header wow fadeInUp">
            <h2 class="module-title">Lo que ofrecemos</h2>
            <h3 class="module-subtitle">Servicios</h3>
          </div>
        </div>
      </div><!-- .row -->

      <div class="row">

        <% infos = WebInfo.where(name: ["HIGH_QUALITY","DISCOUNTS","EASY_SHOPPING","DISTRIBUTORS"]) %>
        <% infos.each do |info| %>

          <div class="col-sm-3">
            <div class="iconbox">
              <div class="iconbox-body equal-height min-height">

                <div class="iconbox-icon">
                  <% case info.name
                    when "HIGH_QUALITY"%>
                    <span class="icon-like"></span>
                  <%when "DISCOUNTS"%>
                    <span class="icon-cup"></span>
                  <%when "EASY_SHOPPING"%>
                    <span class="icon-basket"></span>
                  <%else%>
                    <span class="icon-map"></span>
                  <%end%>
                </div>
                <div class="iconbox-text">
                  <h3 class="iconbox-title"><%= t(info.name) %></h3>
                  <div class="iconbox-desc">
                    <span><%= render info.description_render_path %></span>
                  </div>
                </div>

              </div>
            </div>
          </div>

        <% end %>

      </div><!-- .row -->

      <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
          <div class="devider">
            <%= image_tag "divider-down.svg" %>
          </div>
        </div>
      </div><!-- .row -->

    </div><!-- .container -->
  </section>

  <!-- Services end -->


  <% if @photos.any? %>
    <!-- Gallery start -->
    <section id="gallery" class="module module-brown" style="padding-bottom: 0px;">

      <div class="row position-relative margin-0">
        <div class="col-sm-6 col-sm-offset-3">
          <div class="module-header wow fadeInUp">
            <h2 class="module-title">Galería de nuestros productos</h2>
            <%= link_to "Catálago", products_path, :class => "btn btn-default" %>
          </div>
        </div>
      </div><!-- .row -->

      <div class="row position-relative margin-0">

        <div class="col-xs-12 col-md-12  gallery-no-padding">

          <div class="row module-brown" style="border-top: 2px dashed #CDC2C2;">

            <% @photos.each do |p| %>
              <div class="col-xs-6 col-sm-3">
                <div class="gallery-item">
                  <figure class="overlay">
                    <%= image_tag p.photo.url(:thumb) %>
                    <figcaption>
                      <%= link_to "", p.photo.url, :class => "gallery" %>
                      <div class="caption-inner">
                        <div class="overlay-icon">
                          <span class="icon-magnifier"></span>
                        </div>
                      </div>
                    </figcaption>
                  </figure>
                </div>
              </div>
            <% end %>

          </div><!-- .row -->

        </div><!-- .gallery-no-padding -->

      </div><!-- .row -->
    </section>
    <!-- Gallery end -->
  <% end %>

  <!-- Contact start -->

	<section id="contact" class="module module-dark">
		<div class="container">

			<div class="row">
				<div class="col-sm-6 col-sm-offset-3">
					<div class="module-header">
						<h1 class="module-title">Contacto</h1>
						<h2 class="module-subtitle">Escríbenos tus comentarios y/o sugerencias</h2>
					</div>
				</div>
			</div><!-- .row -->

			<div class="row">

				<div class="col-md-6 col-sm-offset-3">
          <%= form_tag(root_path, method: :post, remote: true) do %>

						<div class="row">

							<div class="col-sm-6 form-group">
                <%= text_field_tag :name, "", { :class => "form-control", :placeholder => "Nombre", :maxlength => 60, :required => true} %>
							</div>

							<div class="col-sm-6 form-group">
								<%= text_field_tag :email, "", { :class => "form-control", :placeholder => "Tu email", :maxlength => 50, :required => true} %>
							</div>

						</div><!-- .row -->

						<div class="row">
							<div class="col-sm-12 form-group">
								<%= text_area_tag :message, "", { :class => "form-control", :placeholder => "Mensaje", :maxlength => 250, :required => true} %>
							</div>
						</div><!-- .row -->

						<div class="row">
							<div class="col-sm-12 text-center">
								<button type="submit" class="btn btn-custom-4">Enviar</button>
							</div>
						</div><!-- .row -->

          <% end %>
				</div><!-- .col -->

			</div><!-- .row -->

		</div><!-- .container -->
	</section>

	<!-- Contact end -->

<style media="screen">
  .fullscreen-bg {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    overflow: hidden;
    z-index: -100;
  }

  .fullscreen-bg__video {
    position: absolute;
    top: 50%;
    left: 50%;
    width: auto;
    height: auto;
    min-width: 100%;
    min-height: 100%;
    -webkit-transform: translate(-50%, -50%);
       -moz-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
  }

  @media (max-width: 767px) {
    .fullscreen-bg {
        background: url('<%= image_url @bgImg.getImage() %>') center center / cover no-repeat;
    }

    .fullscreen-bg__video {
        display: none;
    }
  }
</style>

<script>
$(document).ready(function(){
  // Add smooth scrolling to all links
  $("a").on('click', function(event){
    // Make sure this.hash has a value before overriding default behavior
  	if (this.hash !== "") {
  		// Prevent default anchor click behavior
  		event.preventDefault();

  		// Store hash
  		var hash = this.hash;

  		// Using jQuery's animate() method to add smooth page scroll
  		// The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
  		$('html, body').animate({
  			scrollTop: $(hash).offset().top
  		}, 800, function(){

  			// Add hash (#) to URL when done scrolling (default click behavior)
  			window.location.hash = hash;
  		});
  	} // End if
  });
});
</script>

<% provide(:title, "Bienvenido") %>
<% provide(:keywords, "black brocket, blackbrocket, café, frappé, chocolate, 
  caramelo, chai, latte, capuchino, capuccino, moka, mocha") %>
<% provide(:meta_description, "Prepara bebidas gourmet en cuestión de segundos,
  calientes o frappeadas, capucchino, moka, chocolate, té, chai, y mucho más.") %>

<!-- Home start -->
<section id="home" class="intro-module heightfull">

  <div class="fullscreen-bg">
    <video loop muted autoplay poster="<%= image_url @bgImg.getImage %>" class="fullscreen-bg__video">
      <source src="<%= video_url @bgVideo.getVideo() %>" type="video/mp4">
    </video>
  </div>

  <div class="text-center greeting">
    <%= image_tag "black-brocket-gold-logo.png" %>
    <h1 class="module-title">Bienvenido a Black Brocket</h1>
  </div>

  <% unless logged_in? %>
    <div class="row text-center">
      <%= link_to "Regístrate", client_sign_up_path, class: "btn btn-gold" %>
      <%= link_to "Inicia sesión", log_in_path,
        class: "btn btn-white", style: "margin-left: 1em;" %>
    </div>
  <% end %>

  <div class="mouse-icon" style="border: 0;">
    <div class="wheel"></div>
    <a href="#about"><span aria-hidden="true" class="icon-arrow-down" style="font-size:30px;color: #fff;"></span></a>
  </div>

</section>
<!-- Home end -->

<%= render partial: 'about', locals: {welcome_message: @welcome_message} %>
<%= render partial: 'offers', locals: {offers: @offers} %>
<%= render partial: 'services', locals: {services: @services} %>
<%= render partial: 'gallery', locals: {gallery_photos: @gallery_photos} %>
<%= render 'contact' %>

<style media="screen">
  .fullscreen-bg {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    overflow: hidden;
    z-index: -100;
  }

  .fullscreen-bg__video {
    position: absolute;
    top: 50%;
    left: 50%;
    width: auto;
    height: auto;
    min-width: 100%;
    min-height: 100%;
    -webkit-transform: translate(-50%, -50%);
       -moz-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
  }

  .btn-gold {
    background: transparent;
    color: #333;
    background: #E6CA9A;
    border-color: #E6CA9A;
    margin-top: 3em; 
    border-radius: 5px;
  }

  .btn-gold:hover,
  .btn-gold:focus,
  .btn-gold:active,
  .btn-gold.active {
    color: #333;
    background: #D5B989;
    border-color: #D5B989;
  }

  .btn-white {
    background: transparent;
    color: #333;
    background: #fefefe;
    border-color: #e7eaec;
    margin-top: 3em; 
    border-radius: 5px;
  }

  .btn-white:hover,
  .btn-white:focus,
  .btn-white:active,
  .btn-white.active {
    background: #f5f5f5;
  }

  .module{ padding: 60px 0 !important; }

  .greeting{ padding-top: 20em; }
  .greeting > h1 {
    font-size: 3em;
    padding-top: 0.5em;
  }
  .greeting > img { max-width: 150px }

  @media screen and (max-width: 767px) {
    .fullscreen-bg {
        background: url('<%= image_url @bgImg.getImage %>') center center / cover no-repeat;
    }

    .fullscreen-bg__video {
        display: none;
    }

    .greeting{ padding-top: 15em; }
    .greeting > h1 { font-size: 2em; }
    .greeting > img { max-width: 100px; }
    .btn-gold, .btn-white{ margin-top: 1em; }
  }

  @media screen and (max-height: 740px) and (orientation: landscape){
    .greeting { padding-top: 10em; }
    .greeting > img { max-width: 100px; }
    .btn-gold, .btn-white{ margin-top: 0.5em; }
  }
</style>

<script>
$(document).ready(function(){
  // Add smooth scrolling to all links
  $("a").on('click', function(event){
    // Make sure this.hash has a value before overriding default behavior
  	if (this.hash !== "") {
  		// Prevent default anchor click behavior
  		event.preventDefault();

  		// Store hash
  		var hash = this.hash;

  		// Using jQuery's animate() method to add smooth page scroll
  		// The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
  		$('html, body').animate({
  			scrollTop: $(hash).offset().top
  		}, 800, function(){

  			// Add hash (#) to URL when done scrolling (default click behavior)
  			window.location.hash = hash;
  		});
  	} // End if
  });
});
</script>
